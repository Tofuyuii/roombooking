<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>History</title>
  <link rel="stylesheet" href="style.css">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Prompt:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">


</head>

<body>

<!-- TOPBAR -->
<div class="topbar">
  <div class="logo">Roombooking</div>

  <div class="nav-links">
    <a href="index.html">Home</a>
    <a href="history.html">History</a>
  </div>
</div>

<!-- CONTENT -->
<div class="page-box">

  <h1 class="page-title">ЁЯУЬ р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╕Ир╕нр╕Зр╕Вр╕нр╕Зр╕Др╕╕р╕У</h1>

  <div id="historyList" class="history-container"></div>

</div>

<script>
  let bookings = JSON.parse(localStorage.getItem("bookings")) || [];
  let currentUser = localStorage.getItem("currentUser");

  let box = document.getElementById("historyList");

  let myBookings = bookings.filter(b => b.user === currentUser);

  if (myBookings.length === 0) {
    box.innerHTML = `<p class="empty-text">р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╕Ир╕нр╕Зр╕Вр╕нр╕Зр╕Др╕╕р╕У</p>`;
  } else {
    myBookings.forEach(b => {
      box.innerHTML += `
        <div class="history-card">
          <h2>ЁЯПл р╕лр╣Йр╕нр╕З: ${b.room}</h2>
          <p>ЁЯУЕ р╕зр╕▒р╕Щр╕Чр╕╡р╣И: <b>${b.date}</b></p>
          <p>ЁЯСитАНЁЯПл р╕нр╕▓р╕Ир╕▓р╕гр╕вр╣М: <b>${b.teacher}</b></p>
          <p>ЁЯУМ р╕кр╕Цр╕▓р╕Щр╕░: <span class="status ${b.status}">${b.status}</span></p>
        </div>
      `;
    });
  }
</script>

</body>
</html>
